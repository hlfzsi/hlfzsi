<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="generator" content="VNote">

    <title>readme_1</title>

    <style type="text/css">
    div.code-toolbar > div.toolbar {
    display: none;
}

    </style>

    <style type="text/css">
    *,
*::before,
*::after {
  box-sizing: border-box;
}

.container-fluid {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}

.col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {
    position: relative;
    width: 100%;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
}

.col-12 {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100%;
    flex: 0 0 100%;
    max-width: 100%;
}

@media (min-width: 768px) {
    .col-md-3 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 25%;
        flex: 0 0 25%;
        max-width: 25%;
    }
}

@media (min-width: 768px) {
    .col-md-9 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 75%;
        flex: 0 0 75%;
        max-width: 75%;
    }
}

@media (min-width: 1200px) {
    .col-xl-2 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 16.666667%;
        flex: 0 0 16.666667%;
        max-width: 16.666667%;
    }
}

@media (min-width: 1200px) {
    .col-xl-10 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 83.333333%;
        flex: 0 0 83.333333%;
        max-width: 83.333333%;
    }
}

@media (min-width: 768px) {
    .pt-md-3, .py-md-3 {
        padding-top: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pb-md-3, .py-md-3 {
        padding-bottom: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pl-md-5, .px-md-5 {
        padding-left: 3rem!important;
    }
}

.d-none {
    display: none!important;
}

@media (min-width: 1200px) {
    .d-xl-block {
        display: block!important;
    }
}

@media (min-width: 768px) {
    .d-md-block {
        display: block!important;
    }
}

.bd-content {
    -webkit-box-ordinal-group: 1;
    -ms-flex-order: 0;
    order: 0;
}

.bd-toc {
    position: -webkit-sticky;
    position: sticky;
    top: 4rem;
    height: calc(100vh - 10rem);
    overflow-y: auto;
}

.bd-toc {
    -webkit-box-ordinal-group: 2;
    -ms-flex-order: 1;
    order: 1;
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
    font-size: .875rem;
}

.section-nav {
    padding-left: 0;
}

.section-nav ul {
    font-size: .875rem;
    list-style-type: none;
}

.section-nav li {
    font-size: .875rem;
}

.section-nav a {
    color: inherit !important;
    white-space: nowrap;
}

.row {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}

@media (min-width: 1200px) {
    .flex-xl-nowrap {
        flex-wrap: nowrap !important;
    }
}

#floating-button {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: #00897B;
    position: fixed;
    top: .5rem;
    right: .5rem;
    cursor: pointer;
    box-shadow: 0px 2px 5px #666;
}

#floating-button .more {
    color: #F5F5F5;
    position: absolute;
    top: 0;
    display: block;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    padding: 0;
    margin: 0;
    line-height: 2.5rem;
    font-size: 2rem;
    font-family: 'monospace';
    font-weight: 300;
}

.hide-none {
    display: none !important;
}

.col-expand {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100% !important;
    flex: 0 0 100% !important;
    max-width: 100% !important;
    padding-right: 3rem !important;
}

.outline-bold {
    font-weight: bolder !important;
}

@media print {
    #floating-button {
        display: none !important;
    }
}


    #vx-content.vx-section-number, #vx-content.vx-section-number-2 h1, #vx-content.vx-section-number-3 h1, #vx-content.vx-section-number-3 h2 { counter-reset: section1 0 section2 0 section3 0 section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h1, #vx-content.vx-section-number-2 h2, #vx-content.vx-section-number-3 h3 { counter-reset: section2 0 section3 0 section4 0 seciton5 0 section6 0; }
#vx-content.vx-section-number-1 h2, #vx-content.vx-section-number-2 h3, #vx-content.vx-section-number-3 h4 { counter-reset: section3 0 section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h3, #vx-content.vx-section-number-2 h4, #vx-content.vx-section-number-3 h5 { counter-reset: section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h4, #vx-content.vx-section-number-2 h5 { counter-reset: section5 0 section6 0; }
#vx-content.vx-section-number-1 h5 { counter-reset: section6 0; }
#vx-content.vx-section-number-1 h1::before, #vx-content.vx-section-number-2 h2::before, #vx-content.vx-section-number-3 h3::before { counter-increment: section1 1; content: counter(section1) ". "; }
#vx-content.vx-section-number-1 h2::before, #vx-content.vx-section-number-2 h3::before, #vx-content.vx-section-number-3 h4::before { counter-increment: section2 1; content: counter(section1) "." counter(section2) ". "; }
#vx-content.vx-section-number-1 h3::before, #vx-content.vx-section-number-2 h4::before, #vx-content.vx-section-number-3 h5::before { counter-increment: section3 1; content: counter(section1) "." counter(section2) "." counter(section3) ". "; }
#vx-content.vx-section-number-1 h4::before, #vx-content.vx-section-number-2 h5::before, #vx-content.vx-section-number-3 h6::before { counter-increment: section4 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) ". "; }
#vx-content.vx-section-number-1 h5::before, #vx-content.vx-section-number-2 h6::before { counter-increment: section5 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) "." counter(section5) ". "; }
#vx-content.vx-section-number-1 h6::before { counter-increment: section6 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) "." counter(section5) "." counter(section6) ". "; }
#vx-content.vx-constrain-image-width img, #vx-content.vx-constrain-image-width div.vx-plantuml-graph > svg, #vx-content.vx-constrain-image-width div.vx-mermaid-graph, #vx-content.vx-constrain-image-width div.vx-flowchartjs-graph, #vx-content.vx-constrain-image-width div.vx-wavedrom-graph { max-width: 100% !important; height: auto !important; }
figure { margin: auto; }
figcaption { font-style: italic; }
#vx-content.vx-image-align-center figure { text-align: center; }
#vx-content.vx-image-align-center figcaption { text-align: center; }
#vx-content.vx-image-align-center div.vx-plantuml-graph, #vx-content.vx-image-align-center div.vx-mermaid-graph, #vx-content.vx-image-align-center div.vx-flowchartjs-graph, #vx-content.vx-image-align-center div.vx-wavedrom-graph { margin-left: auto; margin-right: auto; }
.vx-table-of-contents ol { list-style: none; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol { counter-reset: toc 0; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol { counter-reset: toc 0; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol { counter-reset: toc 0; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
.vx-header-anchor { visibility: hidden; vertical-align: middle; }
.vx-header-anchor::after { content: attr(vx-data-anchor-icon); }
#vx-content h1:hover .vx-header-anchor, #vx-content h2:hover .vx-header-anchor, #vx-content h3:hover .vx-header-anchor, #vx-content h4:hover .vx-header-anchor, #vx-content h5:hover .vx-header-anchor, #vx-content h6:hover .vx-header-anchor { visibility: visible; vertical-align: middle; }
#vx-content.vx-indent-first-line p { text-indent: 2em; }
body.vx-transparent-background { background-color: transparent !important; }
#vx-content.vx-nonscrollable pre { white-space: pre-wrap !important; word-break: break-all !important; overflow: hidden !important; }
#vx-content.vx-nonscrollable pre code { white-space: pre-wrap !important; word-break: break-all !important; }
#vx-content.vx-nonscrollable code, #vx-content.vx-nonscrollable a { word-break: break-all !important; }
body { margin: 0px auto; font-family: "YaHei Consolas Hybrid", "Noto Sans", "Helvetica Neue", "Segoe UI", Helvetica, Tahoma, Arial, Geneva, Georgia, Palatino, "Times New Roman", 冬青黑体, "Microsoft YaHei", 微软雅黑, "Microsoft YaHei UI", "WenQuanYi Micro Hei", 文泉驿雅黑, Dengxian, 等线体, STXihei, 华文细黑, "Liberation Sans", "Droid Sans", NSimSun, 新宋体, SimSun, 宋体, "Apple Color Emoji", "Segoe UI Emoji"; color: rgb(34, 34, 34); line-height: 1.5; padding: 16px; background-color: rgb(255, 255, 255); font-size: 16px; }
h1, h2, h3, h4, h5, h6 { color: rgb(34, 34, 34); font-weight: bold; margin-top: 20px; margin-bottom: 10px; padding: 0px; }
p, blockquote, ul, ol, dl, table { margin: 0.4em 0px; }
p { padding: 0px; }
h1 { font-size: 2rem; }
h2 { font-size: 1.75rem; }
h3 { font-size: 1.4rem; }
h4 { font-size: 1.2rem; }
h5 { font-size: 1rem; }
h6 { font-size: 1rem; }
a { color: rgb(0, 153, 255); margin: 0px; padding: 0px; vertical-align: baseline; text-decoration: none; word-break: break-word; }
a:hover { text-decoration: underline; }
a:visited { color: purple; }
ul, ol { padding: 0px 0px 0px 24px; }
li { line-height: 24px; }
li ul, li ol { margin-left: 16px; }
p, ul, ol { font-size: 16px; line-height: 24px; }
pre { display: block; overflow: auto hidden; tab-size: 4; }
code { font-family: "YaHei Consolas Hybrid", Consolas, Monaco, "Andale Mono", monospace, "Courier New"; color: rgb(142, 36, 170); word-break: break-word; }
pre code { display: block; padding-left: 0.5em; padding-right: 0.5em; color: rgb(34, 34, 34); background-color: rgb(224, 224, 224); line-height: 1.5; font-family: "YaHei Consolas Hybrid", Consolas, Monaco, "Andale Mono", monospace, "Courier New"; white-space: pre; tab-size: 4; }
aside { display: block; float: right; width: 390px; }
blockquote { color: rgb(102, 102, 102); border-left: 0.5em solid rgb(122, 122, 122); padding: 0px 1em; }
blockquote p { color: rgb(102, 102, 102); }
hr { display: block; text-align: left; margin: 1em 0px; border: none; height: 2px; background-color: rgb(153, 153, 153); }
table { padding: 0px; margin: 1rem 0.5rem; border-collapse: collapse; }
table tr { border-top: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); margin: 0px; padding: 0px; }
table tr:hover { background-color: rgb(218, 218, 218); }
table tr th { font-weight: bold; border: 1px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr th :first-child, table tr td :first-child { margin-top: 0px; }
table tr th :last-child, table tr td :last-child { margin-bottom: 0px; }
div.vx-mermaid-graph { margin: 16px 0px; overflow-y: hidden; }
div.vx-flowchartjs-graph { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.vx-wavedrom-graph { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.vx-plantuml-graph { padding: 5px 5px 0px; margin: 16px 0px; width: fit-content; overflow: hidden; }
::selection { background-color: rgb(25, 118, 210); color: rgb(255, 255, 255); }
::-webkit-scrollbar { background-color: rgb(245, 245, 245); width: 14px; height: 14px; border: none; }
::-webkit-scrollbar-corner { background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-button { height: 14px; width: 14px; background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-button:hover { background-color: rgb(218, 218, 218); }
::-webkit-scrollbar-button:active { background-color: rgb(192, 192, 192); }
::-webkit-scrollbar-track { background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-thumb { border: none; background-color: rgb(205, 205, 205); }
::-webkit-scrollbar-thumb:hover { background-color: rgb(192, 192, 192); }
::-webkit-scrollbar-thumb:active { background-color: rgb(187, 187, 187); }
::-webkit-scrollbar-button:horizontal:increment { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 12L31 24L19 36" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:horizontal:decrement { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M31 36L19 24L31 12" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:increment { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M36 18L24 30L12 18" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:decrement { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 30L25 18L37 30" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
#vx-content span.vx-search-match { color: rgb(34, 34, 34); background-color: rgb(77, 182, 172); }
#vx-content span.vx-current-search-match { color: rgb(34, 34, 34); background-color: rgb(102, 187, 106); }
.vx-alert { background-color: rgb(226, 237, 243) !important; padding: 12px 24px 12px 30px !important; border-radius: 0px !important; border-top: none !important; border-right: none !important; border-bottom: none !important; border-image: initial !important; border-left: 4px solid rgb(73, 139, 167) !important; color: inherit !important; }
.vx-alert::before { background-color: rgb(73, 139, 167); border-radius: 100%; color: rgb(255, 255, 255); content: "!"; font-family: Dosis, "Source Sans Pro", "Helvetica Neue", Arial, sans-serif; font-size: 14px; font-weight: bold; left: -12px; line-height: 20px; position: absolute; height: 20px; width: 20px; text-align: center; top: 14px; }
.alert-success, .alert-s { border-color: rgb(66, 185, 131) !important; background-color: rgb(212, 237, 218) !important; }
.alert-success::before, .alert-s::before { background-color: rgb(66, 185, 131); }
.alert-warning, .alert-w { border-color: rgb(255, 165, 2) !important; background-color: rgb(255, 243, 205) !important; }
.alert-warning::before, .alert-w::before { background-color: rgb(255, 165, 2); }
.alert-info, .alert-i { border-color: rgb(112, 161, 255) !important; background-color: rgb(204, 229, 255) !important; }
.alert-info::before, .alert-i::before { background-color: rgb(112, 161, 255); }
.alert-danger, .alert-d { border-color: rgb(255, 71, 87) !important; background-color: rgb(248, 215, 218) !important; }
.alert-danger::before, .alert-d::before { background-color: rgb(255, 71, 87); }
.alert-light { border-color: rgb(193, 193, 193) !important; background-color: rgb(248, 248, 248) !important; }
.alert-light::before { background-color: rgb(193, 193, 193); }
.alert-dark { border-color: rgb(72, 72, 72) !important; background-color: rgb(240, 240, 240) !important; }
.alert-dark::before { background-color: rgb(72, 72, 72); }
code[class*="language-"], pre[class*="language-"] { color: black; background: none; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; }
pre[class*="language-"]::selection, pre[class*="language-"] ::selection, code[class*="language-"]::selection, code[class*="language-"] ::selection { text-shadow: none; background-color: rgb(25, 118, 210); color: rgb(255, 255, 255); }
@media print {
  code[class*="language-"], pre[class*="language-"] { text-shadow: none; }
}
pre[class*="language-"] { padding: 1em; margin: 0.5em 0px; overflow: auto; }
:not(pre) > code[class*="language-"], pre[class*="language-"] { background: rgb(237, 232, 228); }
:not(pre) > code[class*="language-"] { padding: 0.1em; border-radius: 0.3em; white-space: normal; }
.token.comment, .token.prolog, .token.doctype, .token.cdata { color: slategray; }
.token.punctuation { color: rgb(153, 153, 153); }
.token.namespace { opacity: 0.7; }
.token.property, .token.tag, .token.boolean, .token.number, .token.constant, .token.symbol, .token.deleted { color: rgb(153, 0, 85); }
.token.selector, .token.attr-name, .token.string, .token.char, .token.builtin, .token.inserted { color: rgb(102, 153, 0); }
.token.operator, .token.entity, .token.url, .language-css .token.string, .style .token.string { color: rgb(154, 110, 58); }
.token.atrule, .token.attr-value, .token.keyword { color: rgb(0, 119, 170); }
.token.function, .token.class-name { color: rgb(221, 74, 104); }
.token.regex, .token.important, .token.variable { color: rgb(238, 153, 0); }
.token.important, .token.bold { font-weight: bold; }
.token.italic { font-style: italic; }
.token.entity { cursor: help; }
pre[class*="language-"].line-numbers { position: relative; padding-left: 3.8em; counter-reset: linenumber 0; }
pre[class*="language-"].line-numbers > code { position: relative; white-space: inherit; }
.line-numbers .line-numbers-rows { position: absolute; pointer-events: none; top: 0px; font-size: 100%; left: -3.8em; width: 3em; letter-spacing: -1px; border-right: 1px solid rgb(153, 153, 153); user-select: none; }
.line-numbers-rows > span { display: block; counter-increment: linenumber 1; }
.line-numbers-rows > span::before { content: counter(linenumber); color: rgb(153, 153, 153); display: block; padding-right: 0.8em; text-align: right; }
div.code-toolbar { position: relative; }
div.code-toolbar > .toolbar { position: absolute; top: 0.3em; right: 0.2em; transition: opacity 0.3s ease-in-out 0s; opacity: 0; }
div.code-toolbar:hover > .toolbar { opacity: 1; }
div.code-toolbar:focus-within > .toolbar { opacity: 1; }
div.code-toolbar > .toolbar .toolbar-item { display: inline-block; }
div.code-toolbar > .toolbar a { cursor: pointer; }
div.code-toolbar > .toolbar button { background: none; border: 0px; color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; line-height: normal; overflow: visible; padding: 0px; user-select: none; }
div.code-toolbar > .toolbar a, div.code-toolbar > .toolbar button, div.code-toolbar > .toolbar span { color: rgb(187, 187, 187); font-size: 0.8em; padding: 0px 0.5em; background: rgba(224, 224, 224, 0.2); box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 0px 0px; border-radius: 0.5em; }
div.code-toolbar > .toolbar a:hover, div.code-toolbar > .toolbar a:focus, div.code-toolbar > .toolbar button:hover, div.code-toolbar > .toolbar button:focus, div.code-toolbar > .toolbar span:hover, div.code-toolbar > .toolbar span:focus { color: inherit; text-decoration: none; }
.vx-image-view-image { transition: all 0.3s ease 0s; }
.vx-modal-box { display: none; position: fixed; z-index: 1000; padding-top: 50px; left: 0px; top: 0px; width: 100%; height: 100%; overflow: hidden; background-color: rgba(51, 56, 66, 0.85); }
.vx-modal-content { margin: auto; display: block; width: auto; height: auto; cursor: move; }
.vx-modal-content { animation-name: zoom; animation-duration: 0.6s; }
@-webkit-keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
@keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
span.vx-modal-close { position: absolute; z-index: 1000; top: 15px; right: 35px; color: rgb(171, 178, 191); font-size: 40px; font-weight: bold; transition: all 0.3s ease 0s; }
span.vx-modal-close:hover, span.vx-modal-close:focus { color: rgb(215, 218, 224); text-decoration: none; cursor: pointer; }
ul.contains-task-list { list-style-type: none; }
.vx-alert { position: relative; padding: 0.75rem 1.25rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: 0.25rem; }
.alert-primary { color: rgb(0, 64, 133); background-color: rgb(204, 229, 255); border-color: rgb(184, 218, 255); }
.alert-secondary { color: rgb(56, 61, 65); background-color: rgb(226, 227, 229); border-color: rgb(214, 216, 219); }
.alert-success { color: rgb(21, 87, 36); background-color: rgb(212, 237, 218); border-color: rgb(195, 230, 203); }
.alert-info { color: rgb(12, 84, 96); background-color: rgb(209, 236, 241); border-color: rgb(190, 229, 235); }
.alert-warning { color: rgb(133, 100, 4); background-color: rgb(255, 243, 205); border-color: rgb(255, 238, 186); }
.alert-danger { color: rgb(114, 28, 36); background-color: rgb(248, 215, 218); border-color: rgb(245, 198, 203); }
.alert-light { color: rgb(129, 129, 130); background-color: rgb(254, 254, 254); border-color: rgb(253, 253, 254); }
.alert-dark { color: rgb(27, 30, 33); background-color: rgb(214, 216, 217); border-color: rgb(198, 200, 202); }

    </style>

    <script type="text/javascript">
        var vxOutlineToc = [];

var setVisible = function(node, visible) {
    var cl = 'hide-none';
    if (visible) {
        node.classList.remove(cl);
    } else {
        node.classList.add(cl);
    }
};

var isVisible = function(node) {
    var cl = 'hide-none';
    return !node.classList.contains(cl);
};

var setPostContentExpanded = function(node, expanded) {
    var cl = 'col-expand';
    if (expanded) {
        node.classList.add(cl);
    } else {
        node.classList.remove(cl);
    }
};

var setOutlinePanelVisible = function(visible) {
    var outlinePanel = document.getElementById('outline-panel');
    var postContent = document.getElementById('post-content');

    setVisible(outlinePanel, visible);
    setPostContentExpanded(postContent, !visible);
};

var isOutlinePanelVisible = function() {
    var outlinePanel = document.getElementById('outline-panel');
    return isVisible(outlinePanel);
};

window.addEventListener('load', function() {
    var outlinePanel = document.getElementById('outline-panel');
    outlinePanel.style.display = 'initial';

    var floatingContainer = document.getElementById('container-floating');
    floatingContainer.style.display = 'initial';

    var outlineContent = document.getElementById('outline-content');
    var postContent = document.getElementById('post-content');

    // Escape @text to Html.
    var escapeHtml = function(text) {
        var map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };

        return text.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    // Fetch the outline.
    var headers = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");
    vxOutlineToc = [];
    for (var i = 0; i < headers.length; ++i) {
        var header = headers[i];

        vxOutlineToc.push({
            level: parseInt(header.tagName.substr(1)),
            anchor: header.id,
            title: escapeHtml(header.textContent)
        });
    }

    if (vxOutlineToc.length == 0) {
        setOutlinePanelVisible(false);
        setVisible(floatingContainer, false);
        return;
    }

    var baseLevel = baseLevelOfToc(vxOutlineToc);
    var tocTree = tocToTree(toPerfectToc(vxOutlineToc, baseLevel), baseLevel);

    outlineContent.innerHTML = tocTree;
    setOutlinePanelVisible(true);
    setVisible(floatingContainer, true);
});

// Return the topest level of @vxOutlineToc, starting from 1.
var baseLevelOfToc = function(p_toc) {
    var level = -1;
    for (i in p_toc) {
        if (level == -1) {
            level = p_toc[i].level;
        } else if (level > p_toc[i].level) {
            level = p_toc[i].level;
        }
    }

    if (level == -1) {
        level = 1;
    }

    return level;
};

// Handle wrong title levels, such as '#' followed by '###'
var toPerfectToc = function(p_toc, p_baseLevel) {
    var i;
    var curLevel = p_baseLevel - 1;
    var perfToc = [];
    for (i in p_toc) {
        var item = p_toc[i];

        // Insert empty header.
        while (item.level > curLevel + 1) {
            curLevel += 1;
            var tmp = { level: curLevel,
                        anchor: '',
                        title: '[EMPTY]'
                      };
            perfToc.push(tmp);
        }

        perfToc.push(item);
        curLevel = item.level;
    }

    return perfToc;
};

var itemToHtml = function(item) {
    return '<a href="#' + item.anchor + '" title="' + item.title + '" data="' + item.anchor + '">' + item.title + '</a>';
};

// Turn a perfect toc to a tree using <ul>
var tocToTree = function(p_toc, p_baseLevel) {
    var i;
    var front = '<li>';
    var ending = ['</li>'];
    var curLevel = p_baseLevel;
    for (i in p_toc) {
        var item = p_toc[i];
        if (item.level == curLevel) {
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        } else if (item.level > curLevel) {
            // assert(item.level - curLevel == 1)
            front += '<ul>';
            ending.push('</ul>');
            front += '<li>';
            front += itemToHtml(item);
            ending.push('</li>');
            curLevel = item.level;
        } else {
            while (item.level < curLevel) {
                var ele = ending.pop();
                front += ele;
                if (ele == '</ul>') {
                    curLevel--;
                }
            }
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        }
    }
    while (ending.length > 0) {
        front += ending.pop();
    }
    front = front.replace("<li></li>", "");
    front = '<ul>' + front + '</ul>';
    return front;
};

var toggleMore = function() {
    if (vxOutlineToc.length == 0) {
        return;
    }

    var p = document.getElementById('floating-more');
    if (isOutlinePanelVisible()) {
        p.textContent = '<';
        setOutlinePanelVisible(false);
    } else {
        p.textContent = '>';
        setOutlinePanelVisible(true);
    }
};

window.addEventListener('scroll', function() {
    if (vxOutlineToc.length == 0 || !isOutlinePanelVisible()) {
        return;
    }

    var postContent = document.getElementById('post-content');
    var scrollTop = document.documentElement.scrollTop
                    || document.body.scrollTop
                    || window.pageYOffset;
    var eles = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");

    if (eles.length == 0) {
        return;
    }

    var idx = -1;
    var biaScrollTop = scrollTop + 50;
    for (var i = 0; i < eles.length; ++i) {
        if (biaScrollTop >= eles[i].offsetTop) {
            idx = i;
        } else {
            break;
        }
    }

    var header = '';
    if (idx != -1) {
        header = eles[idx].id;
    }

    highlightItemOnlyInOutline(header);
});

var highlightItemOnlyInOutline = function(id) {
    var cl = 'outline-bold';
    var outlineContent = document.getElementById('outline-content');
    var eles = outlineContent.querySelectorAll("a");
    var target = null;
    for (var i = 0; i < eles.length; ++i) {
        var ele = eles[i];
        if (ele.getAttribute('data') == id) {
            target = ele;
            ele.classList.add(cl);
        } else {
            ele.classList.remove(cl);
        }
    }

    // TODO: scroll target into view within the outline panel scroll area.
};

    </script>

    <!-- VX_SCRIPTS_PLACEHOLDER -->

    <!-- VX_HEAD_PLACEHOLDER -->
</head>
<body class="vx-transparent-background">
    <div class="container-fluid">
    <div class="row flex-xl-nowrap">
        <!-- VX_OUTLINE_PANEL_START -->
        <div id="outline-panel" style="display:none;" class="d-none d-md-block d-xl-block col-md-3 col-xl-2 bd-toc">
            <div id="outline-content" class="section-nav"></div>
        </div>
        <!-- VX_OUTLINE_PANEL_END -->

        <div id="post-content" class="col-12 col-md-9 col-xl-10 py-md-3 pl-md-5 bd-content">
        <div id="vx-content" class="vx-constrain-image-width line-numbers"><p class="source-line" data-source-line="0">本readme适用版本 : v1.40-v1.51</p>
<h1 id="免责声明" class="source-line" data-source-line="1">免责声明<a class="vx-header-anchor" href="#免责声明" vx-data-anchor-icon="¶"></a></h1>
<h3 id="本项目禁止用于包括但不限于：违法犯罪、灰色地带等一切有背于社会主义核心价值观的行为。" class="source-line" data-source-line="2">本项目禁止用于包括但不限于：违法犯罪、灰色地带等一切有背于社会主义核心价值观的行为。<a class="vx-header-anchor" href="#本项目禁止用于包括但不限于：违法犯罪、灰色地带等一切有背于社会主义核心价值观的行为。" vx-data-anchor-icon="¶"></a></h3>
<h3 id="下载本插件或源码则默认同意以上内容" class="source-line" data-source-line="3">下载本插件或源码则默认同意以上内容<a class="vx-header-anchor" href="#下载本插件或源码则默认同意以上内容" vx-data-anchor-icon="¶"></a></h3>
<hr>
<h2 id="鸣谢" class="source-line" data-source-line="5">鸣谢<a class="vx-header-anchor" href="#鸣谢" vx-data-anchor-icon="¶"></a></h2>
<ul>
<li class="source-line" data-source-line="6"><a href="https://github.com/YiriMiraiProject/YiriMirai">YiriMirai</a>一个轻量级、低耦合的基于 mirai-api-http 的 Python SDK。</li>
<li class="source-line" data-source-line="7"><a href="https://github.com/mamoe/mirai">mirai</a>——高效率 QQ 机器人支持库</li>
<li class="source-line" data-source-line="8"><a href="https://github.com/project-mirai/mirai-api-http">mirai-api-http</a>——提供HTTP API供所有语言使用mirai。</li>
</ul>
<hr>
<h2 id="项目简介" class="source-line" data-source-line="10">项目简介<a class="vx-header-anchor" href="#项目简介" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="11"><strong>LoveYou是一个高性能的、可高度自定义的词库+好感度系统插件</strong><br>
<br><br>
<strong>在v1.50及以后，内存占用降低至170MB左右</strong><br>
<br><br>
以下三点是本插件的开发宗旨</p>
<ul>
<li class="source-line" data-source-line="16">词库的编辑是简易、高效且可视化的</li>
<li class="source-line" data-source-line="17">好感度系统是完全兼容词库且高效的</li>
<li class="source-line" data-source-line="18">项目是灵动的，而非死气沉沉的<br>
<br><br>
本项目release包性能表现：已知2w行的词库可瞬间回复。<a href="https://github.com/hlfzsi/yirimirai_LoveYou/blob/main/example/reply.csv">测试用词库</a></li>
</ul>
<hr>
<h2 id="快速上手" class="source-line" data-source-line="22">快速上手<a class="vx-header-anchor" href="#快速上手" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="23">本项目仅支持64位系统<br><br>
首先，请正确配置mirai-api-http<br><br>
<a href="https://github.com/avilliai/wReply/blob/master/setting.yml">mirai-api-http参考配置</a>，需要注意，本项目仅支持正向ws<br><br>
之后，你需要确认config.ini填写无误</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="27">请勿直接复制本config.ini
[bot]如果你按照mirai-api-http参考配置进行部署，则无需修改verify_key、host、port
bot_qq = bot的QQ号
verify_key = 1234567890
host = 127.0.0.1
port = 23456
[random_CG]
baseline=触发CG的最低好感要求
rate=0.02触发CG的概率（0-1.00）
[others]
ws=True是否启用LoveYou自带的ws，默认启用
ws_port=8686 LoveYou的ws端口，默认为8686
bot_name=bot的名称
master=bot主人的QQ号
search_love_reply=查询好感 指令的回复格式
tank_enable=True是否启用幻影坦克
[csv]
common_love=-1,1  reply.csv的默认好感变化范围
[ai]
@_react=True是否启用@对策
model=调用的模型名称
;model可填qingyunke或百度大模型（需要自己获取）。若使用百度模型，请填写role、API_Key、Secret_Key、memory
role=ai人设，支持[sender][intlove][time]变量
API_Key=
Secret_Key=
memory=True是否启用记忆功能
[lv]
enable=True是否启用好感等级机制
;通用：\n为换行，[qq]为QQ号，[sender]为群名片，[love]为好感度，[intlove]为数值好感度，[bot]为bot名称
;对于csv，[vary]为本次回复数值好感度变化
之后的reply均为不同等级的 我的好感度  指令回复格式
lv1=-999,-50
lv1_reply=


lv2=-50,50
lv2_reply=


lv3=50,200
lv3_reply=

lv4=200,1000
lv4_reply=

lv5=1000,9999
lv5_reply=

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<p class="source-line" data-source-line="77">1.<strong>Windows</strong><br><br>
下载最新的<a href="https://github.com/hlfzsi/yirimirai_LoveYou/releases">release</a>，解压，填写config.ini，编辑你的reply.csv，启动exe即可<br><br>
2.<strong>Linux</strong><br>
下载最新的<a href="https://github.com/hlfzsi/yirimirai_LoveYou/releases">release</a>，解压，填写config.ini，编辑你的reply.csv，尝试使用wine启动exe<br><br>
如无法启动，请尝试<a href="https://github.com/hlfzsi/yirimirai_LoveYou/issues/1">Issues#1</a>中的方法<br><br>
欢迎提供Linux上的打包</p>
<hr>
<h2 id="项目指令" class="source-line" data-source-line="84">项目指令<a class="vx-header-anchor" href="#项目指令" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="85">斜体为需输入的变量</p>
<h3 id="用户指令" class="source-line" data-source-line="86">用户指令<a class="vx-header-anchor" href="#用户指令" vx-data-anchor-icon="¶"></a></h3>
<p class="source-line" data-source-line="87"><strong>群聊</strong></p>
<ul>
<li class="source-line" data-source-line="88">我的好感、我的好感度</li>
<li class="source-line" data-source-line="89">好感排行</li>
<li class="source-line" data-source-line="90">(v1.51)我的排名</li>
<li class="source-line" data-source-line="91">(Unknown)好人榜</li>
<li class="source-line" data-source-line="92">本群好感排行</li>
<li class="source-line" data-source-line="93">(v1.50)/gtank：生成幻影坦克</li>
<li class="source-line" data-source-line="94">/code alias <em>YourCode</em> ：设置QQ别名。使用被记录在./data/code_users.txt</li>
<li class="source-line" data-source-line="95">/code love <em>YourCode</em> ：设置文本好感。使用被记录在./data/code_users.txt</li>
<li class="source-line" data-source-line="96">(v1.42)/code pic <em>YourCode</em> ：设置图片好感回复。使用被记录在./data/code_users.txt</li>
</ul>
<h3 id="主人指令" class="source-line" data-source-line="97">主人指令<a class="vx-header-anchor" href="#主人指令" vx-data-anchor-icon="¶"></a></h3>
<p class="source-line" data-source-line="98"><strong>群聊</strong></p>
<ul>
<li class="source-line" data-source-line="99">/set(del) senior <em>QQ</em>：设置(取消)本群词库高管，其中<em>QQ</em>为高管QQ号</li>
<li class="source-line" data-source-line="100">/set(del) admin <em>QQ</em>：设置(取消)本群词库管理，其中<em>QQ</em>为管理QQ号</li>
</ul>
<p class="source-line" data-source-line="102"><strong>私聊</strong></p>
<ul>
<li class="source-line" data-source-line="103">/encode alias <em>int_number</em>：生成QQ别名的code，其中<em>int_number</em>为生成数量。可在./data/alias_code.txt查看code</li>
<li class="source-line" data-source-line="104">/encode love <em>int_number</em>：生成文本好感的code，其中<em>int_number</em>为生成数量。可在./data/love_code.txt查看code</li>
<li class="source-line" data-source-line="105">(v1.42)/encode pic <em>int_number</em>：生成文本好感的code，其中<em>int_number</em>为生成数量。可在./data/pic_code.txt查看code</li>
</ul>
<h3 id="词库指令" class="source-line" data-source-line="106">词库指令<a class="vx-header-anchor" href="#词库指令" vx-data-anchor-icon="¶"></a></h3>
<p class="source-line" data-source-line="107"><strong>高管指令</strong></p>
<ul>
<li class="source-line" data-source-line="108">/set(del) admin <em>QQ</em>：设置(取消)本群词库管理，其中<em>QQ</em>为管理QQ号</li>
<li class="source-line" data-source-line="109">(v1.42)/(un)lock <em>行号</em>：解锁/锁定对应行号，支持列表，以空格分隔</li>
</ul>
<p class="source-line" data-source-line="111"><strong>管理指令</strong></p>
<ul>
<li class="source-line" data-source-line="112">(v1.42更新)精确(模糊)问 <em>Question</em> <em>Answer</em>：为本群添加一组回复，请注意整个指令中第二个空格是<em>Question</em>和<em>Answer</em>的切分点</li>
<li class="source-line" data-source-line="113">删除 <em>Question</em>：删除对应<em>Question</em>，其中<em>Question</em>的所有对应项均会被删除</li>
<li class="source-line" data-source-line="114">(v1.42)查询 <em>Question</em>：返回所有对应项的行号</li>
<li class="source-line" data-source-line="115">(v1.42)/dr <em>行号</em>：删除对应行号，支持列表，以空格分隔</li>
<li class="source-line" data-source-line="116">(v1.42)/info <em>行号</em>：返回对应行号回复详细信息</li>
</ul>
<hr>
<h2 id="词库编辑" class="source-line" data-source-line="118">词库编辑<a class="vx-header-anchor" href="#词库编辑" vx-data-anchor-icon="¶"></a></h2>
<h4 id="reply.csv" class="source-line" data-source-line="119">reply.csv<a class="vx-header-anchor" href="#reply.csv" vx-data-anchor-icon="¶"></a></h4>
<p class="source-line" data-source-line="120"><strong>不支持热重载</strong><br><br>
<strong>需要注意，所有词库均以utf-8编码存储读取。这在Excel中往往表现为乱码，请自行百度解决</strong><br><br>
按照下表格式填写reply.csv，它是全局生效的</p>
<table class="source-line" data-source-line="123">
<thead>
<tr>
<th style="text-align:center">消息</th>
<th style="text-align:center">回复</th>
<th style="text-align:center">好感范围</th>
<th style="text-align:center">触发范围</th>
<th style="text-align:center">类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">test</td>
<td style="text-align:center">123[pic=atri.jpg][cut]456[pic=v.jpg]</td>
<td style="text-align:center">(-10,10)</td>
<td style="text-align:center">(-10,10)</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">quick_RL</td>
<td style="text-align:center">RL%apple%R:0.2,L:5!%banana%L:-4,R:0.4!%monkey%R:2.0!</td>
<td style="text-align:center">(-10,10)</td>
<td style="text-align:center">(-10,10)</td>
<td style="text-align:center">2</td>
</tr>
</tbody>
</table>
<p class="source-line" data-source-line="128"><strong>对于该表的解释</strong></p>
<ul>
<li class="source-line" data-source-line="129">好感范围：本行触发时，从随机范围内随机取一个整数值作为好感变化量。默认值为<strong>config.ini</strong>下common_love所对应的区间。特别地，你可以在回复中使用[vary]来指代好感变化量，这将使得变化量可见</li>
<li class="source-line" data-source-line="130">触发范围：只有当触发者的好感在本范围内，本行才会触发。默认无范围</li>
<li class="source-line" data-source-line="131">类型：可不填。1代表精准匹配，2代表模糊匹配，不填默认精准匹配。</li>
<li class="source-line" data-source-line="132">[pic=]：发送图片。请将要发送的图片置于 ./data/pic/ 下。每条消息仅支持一张图片。只要填入文件名即可，包括后缀</li>
<li class="source-line" data-source-line="133">[cut]：回复切割。将一次回复切分为多次回复。使用本方法可实现一次触发可发送多张图片</li>
<li class="source-line" data-source-line="134">quick_RL行：本行可实现权重选择，使用较为复杂，详见<strong>进阶使用</strong></li>
</ul>
<p class="source-line" data-source-line="136"><strong>此外，在消息和回复列中，你可以使用如下变量：</strong></p>
<ul>
<li class="source-line" data-source-line="137">\n：换行</li>
<li class="source-line" data-source-line="138">[qq]：触发者QQ号</li>
<li class="source-line" data-source-line="139">[sender]：触发者群名片</li>
<li class="source-line" data-source-line="140">[love]：触发者好感度</li>
<li class="source-line" data-source-line="141">[intlove]：触发者好感度（不包括文本好感）</li>
<li class="source-line" data-source-line="142">[bot]：bot名称，在config.ini中编辑</li>
</ul>
<p class="source-line" data-source-line="144"><strong>上述变量（[vary]除外）在好感回复中也适用；全部变量在群聊词库中适用</strong><br>
<strong>在模糊匹配中，你还可以使用以下插件</strong></p>
<ul>
<li class="source-line" data-source-line="146">[pos]：情感偏向为正时回复</li>
<li class="source-line" data-source-line="147">[nag]：情感偏向为负时回复</li>
</ul>
<h4 id="群聊词库" class="source-line" data-source-line="150">群聊词库<a class="vx-header-anchor" href="#群聊词库" vx-data-anchor-icon="¶"></a></h4>
<p class="source-line" data-source-line="151"><strong>群聊词库是全局词库的阉割</strong></p>
<ul>
<li class="source-line" data-source-line="152">好感范围默认值为0，而非common_love</li>
<li class="source-line" data-source-line="153">不支持指令设置 好感范围 和 触发范围，尽管代码支持读取与运算</li>
<li class="source-line" data-source-line="154">(<strong>v1.42之前</strong>)不支持指令添加[pic=]，尽管代码支持发送</li>
<li class="source-line" data-source-line="155">通过quick_RL方法设置的L值强制变更为0</li>
<li class="source-line" data-source-line="156">模糊匹配的插件仍然是受到支持的</li>
</ul>
<p class="source-line" data-source-line="158"><strong>如果你真的需要以上功能</strong>：</p>
<ul>
<li class="source-line" data-source-line="159">在./data/group/下找到对应csv，手动编辑</li>
<li class="source-line" data-source-line="160">将图片放置于./data/pic/group/下</li>
<li class="source-line" data-source-line="161">无论如何，quick_RL的L值无法恢复</li>
</ul>
<hr>
<h2 id="好感度系统" class="source-line" data-source-line="163">好感度系统<a class="vx-header-anchor" href="#好感度系统" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="164"><strong>好感度来源</strong></p>
<ul>
<li class="source-line" data-source-line="165">词库</li>
<li class="source-line" data-source-line="166">消息中包含bot_name或@bot时，程序会分析情感偏向并给出一个[-10,10]之间的整数值作为好感变化量</li>
<li class="source-line" data-source-line="167">特别地，bot有0.4%的概率进行群聊回复及好感运算</li>
</ul>
<p class="source-line" data-source-line="169"><strong>CG</strong><br>
仅当消息包含bot_name时进行判断<br><br>
每个QQ每日最多触发一次判断，早上9点重置</p>
<ul>
<li class="source-line" data-source-line="172">仅支持发送图片，请将图片放置于./data/CG/下（.jpg or .png）</li>
<li class="source-line" data-source-line="173">baseline：触发CG回复所要求的最低好感度</li>
<li class="source-line" data-source-line="174">rate：CG发送概率<br>
详见<strong>config.ini</strong></li>
</ul>
<p class="source-line" data-source-line="177"><strong>好感度等级</strong><br>
如要启用本功能，请设置<strong>config.ini</strong>中enable=True<br><br>
共分为5个等级<br><br>
在<strong>config.ini</strong>设置每级所囊括的好感区间（例：lv1=-999,-50）<br><br>
在<strong>config.ini</strong>设置每级查询好感度时所回复的特殊回复<br><br>
<strong>变量支持：见词库编辑</strong></p>
<hr>
<h2 id="进阶使用" class="source-line" data-source-line="184">进阶使用<a class="vx-header-anchor" href="#进阶使用" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="185"><strong>quick_RL方法</strong><br>
这是一个略显繁琐的回复方法，但它在某种意义上是简洁的<br>
以下表为例</p>
<table class="source-line" data-source-line="188">
<thead>
<tr>
<th style="text-align:center">消息</th>
<th style="text-align:center">回复</th>
<th style="text-align:center">好感范围</th>
<th style="text-align:center">触发范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">quick_RL</td>
<td style="text-align:center">RL%apple%R:0.2,L:5!%banana%L:-4,R:0.4!%monkey%R:2.0!</td>
<td style="text-align:center">(-99,9999)</td>
<td style="text-align:center">(114514,1919810)</td>
</tr>
</tbody>
</table>
<p class="source-line" data-source-line="193"><strong>重要</strong>你需要在回复的最开头用<strong>RL</strong>声明你将要使用quick_RL方法，用于声明的<strong>RL</strong>将在随后的处理中被抛弃<br><br>
它可以被这么解读：<br><br>
<strong>%这里是每一条回复%R：这里是本回复权重；L：这里是本回复对应的好感度变化</strong><br><br>
在quick_RL方法中，R和L均为可选项，R默认为1.0，L默认为0。R和L的顺序是不严格的<br><br>
当quick_RL行被触发时，会在回复中进行新一轮的加权随机选择<br><br>
只有% %之间的内容会被认为是回复<br><br>
每一条回复和它的参数与后一条回复应当存在！作为分割，！的全半角输入是不严格的<br><br>
被随机中的回复所携带的L会被认为是好感变化值，这意味着整个语句的 好感范围 是<strong>没有意义</strong>的，而 触发范围 仍然<strong>具有意义</strong><br>
<br><br>
<small><small>v1.41加入</small></small> <strong>websockets支持</strong><br>
本项目提供ws方式获得用户好感度、变更用户好感度。<br><br>
editor.py是一个使用例<br><br>
要使用LoveYou的ws，请遵循以下简单的规范：<br><br>
你应当向LoveYou发送一个json，它的部分<strong>内容</strong>及<strong>返回</strong>按顺序如下</p>
<table class="source-line" data-source-line="207">
<thead>
<tr>
<th style="text-align:center">type</th>
<th style="text-align:center">qq</th>
<th style="text-align:center">love</th>
<th style="text-align:center">return</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">这代表你要调用的函数</td>
<td style="text-align:center">目标QQ</td>
<td style="text-align:center">好感变化</td>
<td style="text-align:center">正常返回的格式</td>
</tr>
<tr>
<td style="text-align:center">get_love</td>
<td style="text-align:center">Any</td>
<td style="text-align:center">json中请不要包含love键值对</td>
<td style="text-align:center">数值好感|||文本好感</td>
</tr>
<tr>
<td style="text-align:center">change_love</td>
<td style="text-align:center">Any</td>
<td style="text-align:center">int</td>
<td style="text-align:center">DONE</td>
</tr>
</tbody>
</table>
<br>
如果调用失败，LoveYou会返回错误的原因。若调用成功而LoveYou内部函数执行失败，LoveYou会返回Fail<br>
LoveYou的默认ws端口为8686<br>
<hr>
<h2 id="基于本项目的websockets进行开发" class="source-line" data-source-line="217">基于本项目的Websockets进行开发<a class="vx-header-anchor" href="#基于本项目的websockets进行开发" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="218">简要的接口介绍（type+所需要的传入变量）</p>
<ol>
<li class="source-line" data-source-line="219">get_love : 获得对应QQ好感度<br>qq：QQ号<br></li>
<li class="source-line" data-source-line="220">change_love ： 修改对应QQ好感度（加法）<br>qq：QQ号<br>love：变更好感度，要求可转换为int类型<br></li>
<li class="source-line" data-source-line="221">get_lv ： 获得对应QQ好感等级<br>qq：QQ号<br></li>
<li class="source-line" data-source-line="222">get_rank ： 获得对应QQ好感排名<br>qq：QQ号<br></li>
<li class="source-line" data-source-line="223">isAdmin ： 检查QQ是否为LoveYou中注册过的特定群管理组成员<br>groupid：群号<br>qq：QQ号<br></li>
<li class="source-line" data-source-line="224">silence ： 沉默/启用 LoveYou的词库<br>qq：True沉默或者False解除沉默<br></li>
<li class="source-line" data-source-line="225">love_score ： 对文本进行情感分析，返回一个经过处理的好感变化值<br>text：需要分析的文本<br></li>
</ol>
<h4 id="json示例" class="source-line" data-source-line="226">json示例<a class="vx-header-anchor" href="#json示例" vx-data-anchor-icon="¶"></a></h4>
<p class="source-line" data-source-line="227">变量的存在与否以及存在顺序都是严格的</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="228">{  
  "type": "get_love",
  "qq": "123456789"  
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="234">{  
  "type": "isAdmin",
  "groupid":"123456789",
  "qq":"123456789"
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<h4 id="返回示例" class="source-line" data-source-line="241">返回示例<a class="vx-header-anchor" href="#返回示例" vx-data-anchor-icon="¶"></a></h4>
<p class="source-line" data-source-line="242">序号与接口介绍序号一一对应<br>其中，{   }内容为你需要的返回值，{   }在真实返回中不存在<br>如果调用错误，LoveYou会返回错误原因。若调用成功而LoveYou内部函数错误，会返回Fail</p>
<ol>
<li class="source-line" data-source-line="243">{int_love}|||{str_love}<br>str_love为int_love加上用户好感后缀<br></li>
<li class="source-line" data-source-line="244">DONE</li>
<li class="source-line" data-source-line="245">{level}<br>1-5为正常返回结果<br>0代表好感超出好感等级范围且好感&lt;0，6代表好感超出好感等级范围且好感&gt;=0<br>若好感等级未启用，则返回-1<br></li>
<li class="source-line" data-source-line="246">{rank}|{total}<br>rank为用户排名，total为总排名数<br></li>
<li class="source-line" data-source-line="247">{admin?}<br>权限等级：high &gt; common &gt; False，其中，False代表无权限<br></li>
<li class="source-line" data-source-line="248">Success</li>
<li class="source-line" data-source-line="249">{intlove}<br>返回经过处理的好感度变化值，但实际上这一变化值并没有作用于任何QQ</li>
</ol>
</div>
        </div>
    </div>
    </div>

    <!-- VX_OUTLINE_BUTTON_START -->
    <div id="container-floating" style="display:none;" class="d-none d-md-block d-xl-block">
        <div id="floating-button" onclick="toggleMore()">
            <p id="floating-more" class="more">&gt;</p>
        </div>
    </div>
    <!-- VX_OUTLINE_BUTTON_END -->
</body>
</html>
